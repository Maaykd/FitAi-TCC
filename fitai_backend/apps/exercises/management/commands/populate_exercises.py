# apps/exercises/management/commands/populate_exercises.py

from django.core.management.base import BaseCommand
from apps.exercises.models import Exercise

class Command(BaseCommand):
    help = 'Popula o banco de dados com exerc√≠cios reais e estruturados'

    def handle(self, *args, **options):
        self.stdout.write(self.style.SUCCESS('üèãÔ∏è‚Äç‚ôÇÔ∏è Iniciando popula√ß√£o de exerc√≠cios...'))

        # Limpar exerc√≠cios existentes (opcional)
        Exercise.objects.all().delete()
        self.stdout.write('üóëÔ∏è Exerc√≠cios anteriores removidos')

        exercises_data = [
            # PEITO (CHEST) - 10 exerc√≠cios
            {
                'name': 'Flex√£o de Bra√ßo Tradicional',
                'description': 'Exerc√≠cio cl√°ssico que trabalha peito, ombros e tr√≠ceps usando o peso corporal.',
                'muscle_group': 'chest',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 5,
                'calories_per_minute': 8.0,
                'instructions': '1. Deite de bru√ßos no ch√£o\n2. Apoie as m√£os no ch√£o na largura dos ombros\n3. Mantenha o corpo reto\n4. Des√ßa at√© quase tocar o peito no ch√£o\n5. Empurre de volta √† posi√ß√£o inicial'
            },
            {
                'name': 'Flex√£o de Bra√ßo Inclinada',
                'description': 'Varia√ß√£o mais f√°cil da flex√£o tradicional, ideal para iniciantes.',
                'muscle_group': 'chest',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Banco ou superf√≠cie elevada',
                'duration_minutes': 5,
                'calories_per_minute': 6.5,
                'instructions': '1. Apoie as m√£os em uma superf√≠cie elevada (banco/sof√°)\n2. Corpo em linha reta\n3. Des√ßa controladamente\n4. Empurre de volta\n5. Mais f√°cil que flex√£o no ch√£o'
            },
            {
                'name': 'Supino com Halteres',
                'description': 'Exerc√≠cio fundamental para desenvolvimento do peitoral com halteres.',
                'muscle_group': 'chest',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Halteres, Banco',
                'duration_minutes': 8,
                'calories_per_minute': 7.5,
                'instructions': '1. Deite no banco com halter em cada m√£o\n2. Bra√ßos estendidos acima do peito\n3. Des√ßa os halteres controladamente\n4. Empurre de volta √† posi√ß√£o inicial\n5. Mantenha os p√©s firmes no ch√£o'
            },
            {
                'name': 'Crucifixo com Halteres',
                'description': 'Movimento de isolamento para o peitoral com amplitude completa.',
                'muscle_group': 'chest',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Halteres, Banco',
                'duration_minutes': 6,
                'calories_per_minute': 6.8,
                'instructions': '1. Deite no banco com halteres nas m√£os\n2. Bra√ßos ligeiramente flexionados\n3. Abra os bra√ßos em movimento circular\n4. Sinta o alongamento no peito\n5. Retorne controladamente'
            },
            {
                'name': 'Flex√£o Diamante',
                'description': 'Varia√ß√£o avan√ßada que enfatiza tr√≠ceps e peitoral interno.',
                'muscle_group': 'chest',
                'difficulty_level': 'advanced',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 4,
                'calories_per_minute': 9.2,
                'instructions': '1. Posi√ß√£o de flex√£o\n2. Junte as m√£os formando um diamante\n3. Polegares e indicadores se tocando\n4. Des√ßa mantendo cotovelos pr√≥ximos\n5. Movimento mais dif√≠cil que flex√£o normal'
            },
            
            # COSTAS (BACK) - 12 exerc√≠cios
            {
                'name': 'Remada Curvada com Halteres',
                'description': 'Exerc√≠cio fundamental para desenvolver a musculatura das costas.',
                'muscle_group': 'back',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Halteres',
                'duration_minutes': 8,
                'calories_per_minute': 7.8,
                'instructions': '1. P√©s na largura dos ombros\n2. Curve o tronco mantendo costas retas\n3. Halteres nas m√£os com bra√ßos estendidos\n4. Puxe os cotovelos para tr√°s\n5. Contraia as esc√°pulas no topo'
            },
            {
                'name': 'Superman',
                'description': 'Exerc√≠cio isom√©trico que fortalece a regi√£o lombar e gl√∫teos.',
                'muscle_group': 'back',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 5,
                'calories_per_minute': 5.2,
                'instructions': '1. Deite de bru√ßos no ch√£o\n2. Bra√ßos estendidos √† frente\n3. Levante simultaneamente bra√ßos, peito e pernas\n4. Mantenha a posi√ß√£o por 2-3 segundos\n5. Des√ßa controladamente'
            },
            {
                'name': 'Pullover com Halter',
                'description': 'Movimento que trabalha peito, costas e m√∫sculos respirat√≥rios.',
                'muscle_group': 'back',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Halter, Banco',
                'duration_minutes': 6,
                'calories_per_minute': 6.5,
                'instructions': '1. Deite no banco segurando um halter\n2. Bra√ßos estendidos sobre o peito\n3. Des√ßa o peso atr√°s da cabe√ßa\n4. Mantenha bra√ßos ligeiramente flexionados\n5. Retorne √† posi√ß√£o inicial'
            },

            # OMBROS (SHOULDERS) - 10 exerc√≠cios
            {
                'name': 'Desenvolvimento com Halteres',
                'description': 'Exerc√≠cio b√°sico para desenvolvimento dos ombros.',
                'muscle_group': 'shoulders',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Halteres',
                'duration_minutes': 7,
                'calories_per_minute': 7.2,
                'instructions': '1. Sentado ou em p√©, halteres na altura dos ombros\n2. Palmas voltadas para frente\n3. Empurre os pesos para cima\n4. Estenda completamente os bra√ßos\n5. Des√ßa controladamente'
            },
            {
                'name': 'Eleva√ß√£o Lateral',
                'description': 'Isolamento para a por√ß√£o lateral do delt√≥ide.',
                'muscle_group': 'shoulders',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Halteres',
                'duration_minutes': 5,
                'calories_per_minute': 6.0,
                'instructions': '1. Em p√©, halter em cada m√£o ao lado do corpo\n2. Bra√ßos ligeiramente flexionados\n3. Levante lateralmente at√© altura dos ombros\n4. Pause no topo\n5. Des√ßa lentamente'
            },
            {
                'name': 'Eleva√ß√£o Frontal',
                'description': 'Trabalha a por√ß√£o anterior do delt√≥ide.',
                'muscle_group': 'shoulders',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Halteres',
                'duration_minutes': 5,
                'calories_per_minute': 5.8,
                'instructions': '1. Em p√©, halteres na frente das coxas\n2. Palmas voltadas para baixo\n3. Levante √† frente at√© altura dos ombros\n4. Bra√ßos ligeiramente flexionados\n5. Controle a descida'
            },

            # BRA√áOS (ARMS) - 12 exerc√≠cios
            {
                'name': 'Rosca Direta com Halteres',
                'description': 'Exerc√≠cio cl√°ssico para desenvolvimento do b√≠ceps.',
                'muscle_group': 'arms',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Halteres',
                'duration_minutes': 6,
                'calories_per_minute': 6.5,
                'instructions': '1. Em p√©, halter em cada m√£o\n2. Bra√ßos estendidos ao lado do corpo\n3. Flexione o cotovelo levantando o peso\n4. Contraia o b√≠ceps no topo\n5. Des√ßa controladamente'
            },
            {
                'name': 'Tr√≠ceps Franc√™s',
                'description': 'Exerc√≠cio de isolamento para tr√≠ceps.',
                'muscle_group': 'arms',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Halter',
                'duration_minutes': 6,
                'calories_per_minute': 6.2,
                'instructions': '1. Sentado, segure um halter com as duas m√£os\n2. Bra√ßos estendidos acima da cabe√ßa\n3. Flexione apenas os cotovelos\n4. Des√ßa o peso atr√°s da cabe√ßa\n5. Estenda de volta'
            },
            {
                'name': 'Rosca Martelo',
                'description': 'Varia√ß√£o da rosca que trabalha b√≠ceps e antebra√ßo.',
                'muscle_group': 'arms',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Halteres',
                'duration_minutes': 6,
                'calories_per_minute': 6.0,
                'instructions': '1. Em p√©, halteres com pegada neutra\n2. Polegares apontando para cima\n3. Flexione alternadamente\n4. Mantenha pulsos firmes\n5. Movimento controlado'
            },

            # PERNAS (LEGS) - 15 exerc√≠cios
            {
                'name': 'Agachamento Livre',
                'description': 'O rei dos exerc√≠cios para pernas, trabalha quadr√≠ceps, gl√∫teos e posterior.',
                'muscle_group': 'legs',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 8,
                'calories_per_minute': 8.5,
                'instructions': '1. P√©s na largura dos ombros\n2. Des√ßa flexionando quadril e joelhos\n3. Mantenha peito erguido\n4. Des√ßa at√© coxas paralelas ao ch√£o\n5. Empurre pelos calcanhares para subir'
            },
            {
                'name': 'Lunges (Afundo)',
                'description': 'Exerc√≠cio unilateral que trabalha pernas e melhora equil√≠brio.',
                'muscle_group': 'legs',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 7,
                'calories_per_minute': 7.8,
                'instructions': '1. Em p√©, d√™ um passo largo √† frente\n2. Des√ßa flexionando ambos os joelhos\n3. Joelho da frente n√£o ultrapassa o p√©\n4. Empurre para voltar √† posi√ß√£o inicial\n5. Alterne as pernas'
            },
            {
                'name': 'Agachamento Sumo',
                'description': 'Varia√ß√£o que enfatiza gl√∫teos e parte interna da coxa.',
                'muscle_group': 'legs',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Nenhum ou Halter',
                'duration_minutes': 6,
                'calories_per_minute': 8.2,
                'instructions': '1. P√©s mais largos que os ombros\n2. Pontas dos p√©s ligeiramente para fora\n3. Des√ßa mantendo joelhos alinhados\n4. Mantenha tronco ereto\n5. Foque na contra√ß√£o dos gl√∫teos'
            },
            {
                'name': 'Eleva√ß√£o de Panturrilha',
                'description': 'Exerc√≠cio espec√≠fico para desenvolvimento das panturrilhas.',
                'muscle_group': 'legs',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 5,
                'calories_per_minute': 4.5,
                'instructions': '1. Em p√©, p√©s na largura dos ombros\n2. Levante-se na ponta dos p√©s\n3. Contraia as panturrilhas no topo\n4. Des√ßa controladamente\n5. Pode usar parede para apoio'
            },

            # ABD√îMEN (ABS) - 12 exerc√≠cios
            {
                'name': 'Abdominal Tradicional',
                'description': 'Exerc√≠cio b√°sico para fortalecimento do core.',
                'muscle_group': 'abs',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 5,
                'calories_per_minute': 6.0,
                'instructions': '1. Deite de costas, joelhos flexionados\n2. M√£os atr√°s da cabe√ßa (sem puxar o pesco√ßo)\n3. Contraia o abd√¥men levantando o tronco\n4. Expire na subida\n5. Des√ßa controladamente'
            },
            {
                'name': 'Prancha (Plank)',
                'description': 'Exerc√≠cio isom√©trico que fortalece todo o core.',
                'muscle_group': 'abs',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 3,
                'calories_per_minute': 5.5,
                'instructions': '1. Posi√ß√£o de flex√£o apoiado nos antebra√ßos\n2. Corpo em linha reta\n3. Contraia abd√¥men e gl√∫teos\n4. Respire normalmente\n5. Mantenha a posi√ß√£o pelo tempo determinado'
            },
            {
                'name': 'Bicicleta (Bicycle Crunch)',
                'description': 'Exerc√≠cio din√¢mico que trabalha obl√≠quos e reto abdominal.',
                'muscle_group': 'abs',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 5,
                'calories_per_minute': 7.2,
                'instructions': '1. Deite de costas, m√£os atr√°s da cabe√ßa\n2. Joelhos flexionados no ar\n3. Leve cotovelo direito ao joelho esquerdo\n4. Alterne os lados em movimento de pedalada\n5. Mantenha ritmo constante'
            },
            {
                'name': 'Eleva√ß√£o de Pernas',
                'description': 'Foca na por√ß√£o inferior do abd√¥men.',
                'muscle_group': 'abs',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 4,
                'calories_per_minute': 6.8,
                'instructions': '1. Deite de costas, bra√ßos ao lado do corpo\n2. Pernas estendidas\n3. Levante as pernas at√© 90 graus\n4. Des√ßa lentamente sem tocar o ch√£o\n5. Mantenha lombar no ch√£o'
            },

            # CARDIO - 10 exerc√≠cios
            {
                'name': 'Burpees',
                'description': 'Exerc√≠cio de alta intensidade que trabalha corpo inteiro.',
                'muscle_group': 'cardio',
                'difficulty_level': 'advanced',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 4,
                'calories_per_minute': 12.0,
                'instructions': '1. Em p√©, des√ßa em agachamento\n2. Apoie as m√£os no ch√£o\n3. Salte as pernas para tr√°s (posi√ß√£o flex√£o)\n4. Fa√ßa uma flex√£o (opcional)\n5. Volte ao agachamento e salte para cima'
            },
            {
                'name': 'Jumping Jacks',
                'description': 'Exerc√≠cio cardiovascular cl√°ssico e eficiente.',
                'muscle_group': 'cardio',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 5,
                'calories_per_minute': 9.5,
                'instructions': '1. Em p√©, p√©s juntos, bra√ßos ao lado\n2. Salte abrindo pernas\n3. Simultaneamente levante bra√ßos acima da cabe√ßa\n4. Salte voltando √† posi√ß√£o inicial\n5. Mantenha ritmo constante'
            },
            {
                'name': 'High Knees (Joelho Alto)',
                'description': 'Corrida no lugar com eleva√ß√£o dos joelhos.',
                'muscle_group': 'cardio',
                'difficulty_level': 'beginner',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 3,
                'calories_per_minute': 10.0,
                'instructions': '1. Em p√©, comece correndo no lugar\n2. Eleve os joelhos o m√°ximo poss√≠vel\n3. Tente tocar o peito com os joelhos\n4. Mantenha bra√ßos em movimento\n5. Ritmo acelerado'
            },
            {
                'name': 'Mountain Climbers',
                'description': 'Exerc√≠cio din√¢mico que combina cardio e fortalecimento.',
                'muscle_group': 'cardio',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 4,
                'calories_per_minute': 11.5,
                'instructions': '1. Posi√ß√£o de prancha alta\n2. Traga um joelho em dire√ß√£o ao peito\n3. Retorne e alterne rapidamente\n4. Mantenha quadris est√°veis\n5. Movimento r√°pido e controlado'
            },

            # CORPO INTEIRO (FULL_BODY) - 8 exerc√≠cios
            {
                'name': 'Thruster com Halteres',
                'description': 'Movimento composto que trabalha pernas, core e ombros.',
                'muscle_group': 'full_body',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Halteres',
                'duration_minutes': 8,
                'calories_per_minute': 10.5,
                'instructions': '1. Agachamento com halteres nos ombros\n2. Des√ßa em agachamento completo\n3. Ao subir, empurre halteres acima da cabe√ßa\n4. Movimento flu√≠do e cont√≠nuo\n5. Combine for√ßa e cardio'
            },
            {
                'name': 'Bear Crawl',
                'description': 'Movimento animal que desafia coordena√ß√£o e resist√™ncia.',
                'muscle_group': 'full_body',
                'difficulty_level': 'intermediate',
                'equipment_needed': 'Nenhum',
                'duration_minutes': 5,
                'calories_per_minute': 8.8,
                'instructions': '1. Posi√ß√£o quadr√∫pede, joelhos elevados\n2. Caminhe com m√£os e p√©s\n3. Joelhos pr√≥ximos ao ch√£o\n4. Mantenha core ativo\n5. Movimento coordenado e controlado'
            },
            {
                'name': 'Turkish Get-Up',
                'description': 'Movimento complexo de mobilidade e estabilidade.',
                'muscle_group': 'full_body',
                'difficulty_level': 'advanced',
                'equipment_needed': 'Halter ou Kettlebell',
                'duration_minutes': 10,
                'calories_per_minute': 7.5,
                'instructions': '1. Deite com peso estendido acima\n2. Siga sequ√™ncia espec√≠fica para ficar em p√©\n3. Mantenha peso sempre acima da cabe√ßa\n4. Movimento lento e controlado\n5. Requer pr√°tica e coordena√ß√£o'
            }
        ]

        # Criar exerc√≠cios
        created_count = 0
        for exercise_data in exercises_data:
            exercise, created = Exercise.objects.get_or_create(
                name=exercise_data['name'],
                defaults=exercise_data
            )
            if created:
                created_count += 1
                self.stdout.write(f"‚úÖ {exercise.name} ({exercise.muscle_group})")

        self.stdout.write(
            self.style.SUCCESS(f'\nüéâ Sucesso! {created_count} exerc√≠cios criados!')
        )
        
        # Estat√≠sticas
        total_exercises = Exercise.objects.count()
        by_muscle_group = {}
        for group in ['chest', 'back', 'shoulders', 'arms', 'legs', 'abs', 'cardio', 'full_body']:
            count = Exercise.objects.filter(muscle_group=group).count()
            if count > 0:
                by_muscle_group[group] = count

        self.stdout.write(f'\nüìä ESTAT√çSTICAS:')
        self.stdout.write(f'Total de exerc√≠cios: {total_exercises}')
        for group, count in by_muscle_group.items():
            self.stdout.write(f'{group.upper()}: {count} exerc√≠cios')
        
        self.stdout.write(
            self.style.SUCCESS('\nüöÄ Popula√ß√£o de exerc√≠cios conclu√≠da com sucesso!')
        )